var DesignerQuiz=function(){function t(t){console.log("showQuestion",t),$(questionList.children()[t]).addClass("show")}function e(){var t=$('<li class="results"></li>'),e=$("<h3></h3>"),s=$("<p></p>"),o=$('<span class="result"><strong>'+c+"</strong>/"+l.length+"</span>"),n=$('<div class="buttons"></div>'),i=$('<a class="button facebook">Share on Facebook</a>'),r=$('<a class="button twitter" href="https://twitter.com/intent/tweet">Share on Twitter</a>'),u=c/l.length;u>=8?(e.text("Nice work!"),s.text("You are a design ninja, we hope you will apply!")):u>=4?(e.text("Not bad!"),s.text("Your skills are shaping up nicely. You have a promising future in design. Apply now!")):(e.text("Ouch."),s.text("Did you forget your coffee this morning?")),n.append([r,i]),t.append([e,s,o,n]),$(questionList).append(t),a=t,setTimeout(function(){t.addClass("show")},1),i.on("click",function(){FB.ui({method:"share",href:"http://www.dtelepathy.com/careers/"},function(){})})}function s(){c=u=0,$(questionList.children()).removeClass("hide"),console.log("result",questionList.find("results")[0]),$(a).addClass("hide"),t(u),o(l[u].options),setTimeout(function(){$(a).remove(),a=null},1400)}function o(t,e){console.log("populateOptions",t),i.empty();for(var s in t){var o=$("<li>"+t[s]+"</li>");e&&o.attr("value","reset"),i.append(o)}}function n(s){console.log("submitAnswer",s);var n=l[u].options,i=l[u].answer;console.log(n.indexOf(s)),console.log(i);var a;n.indexOf(s)===i?(a=$(".bar .result.correct"),c++):a=$(".bar .result.incorrect"),$(".bar .options").removeClass("show"),a.addClass("show"),$(questionList.children()[u]).removeClass("show"),$(questionList.children()[u]).addClass("hide"),u-1>=0&&$(questionList.children()[u-1]).removeClass("hide"),u++;var r;u<l.length?(t(u),r=l[u].options):e(),setTimeout(function(){a.removeClass("show"),$(".bar .options").addClass("show"),r?o(r):o(["Re-take the Quiz"],!0)},1400)}var i,a,r={},l=[{title:"Which Font is This?",customClass:"font",imgPath:"img/test_font.png",options:["Helvetica","Arial","Gotham","Futura"],answer:0},{title:"What is the screen resolution of the iPhone 5s?",customClass:"resolution",imgPath:"img/iphone.png",options:["960 X 400","1024 x 768","1136 x 640","1280 x 768"],answer:2},{title:"Which blending mode is this?",customClass:"blending",imgPath:"img/blending.png",options:["Dissolve","Multiply","Color","Difference"],answer:2},{title:"How many columns is the default bootstrap grid?",customClass:"bootstrap",imgPath:"img/grid.png",options:["8","12","16","24"],answer:2},{title:"Which of the following is not a type foundry?",customClass:"type",imgPath:"img/logos.png",options:["Veer","VSCO","HF&J","House Industries"],answer:3},{title:"Someone that can design and develop is often referred to as:",customClass:"animal",imgPath:"img/animals.png",options:["Unicorn","Jackelope","Pegasus","Centaur"],answer:0},{title:"Which of these is not a to-do app?",customClass:"todo",imgPath:"img/todo_icons.png",options:["Clear","Wunderlist","Flipboard","Cheddar"],answer:2}],u=0,c=0;return r.create=function(e){if(questionList=$($(e+" .questions")[0]),i=$($(e+" .options")[0]),questionList){for(var a=0;a<l.length;a++){var r=l[a],u=$('<li class="question '+r.customClass+'"></li>');r.customClass&&u.addClass(r.customClass),0===a&&u.addClass("show");var c=$('<span class="count">'+(a+1)+"/"+l.length+"</span>");console.log("count",c);var d=$("<h3>"+r.title+"</h3>"),p=$('<img src="'+r.imgPath+'" />');u.append([c,d,p]),$(questionList).append(u)}$(".options").delegate("li","click",function(t){console.log("evt",t),"reset"==$(t.target).attr("value")?s():n($(t.target).text())}),t(0),o(l[0].options)}},r},InstagramPhotos=function(t){function e(t){console.log("Instagram Success",t);var e=$("#photos");for(var s in t.data){var o=t.data[s];e.append('<img src="'+o.images.low_resolution.url+'" />')}}function s(t){console.log("Instagram Error",t)}var o={},n="6f867f509df8488e9b115705bc003c68",i="439020677",a="https://api.instagram.com/v1/users/"+i+"/media/recent/?client_id="+n+"&count="+t;return o.getPhotos=function(){console.log("rawr"),$.ajax({dataType:"jsonp",url:a,success:e,error:s})},o},Marquee=function(){function t(){var s=e.children(":first"),o=s.outerWidth()-parseInt(s.css("margin-left"),10),i=o/n*100;s.animate({"margin-left":-1*o},i,"linear",function(){s.appendTo(e),s.css("margin-left",0),t()})}var e,s={},o=[],n=4;return s.pause=function(){},s.resume=function(){},s.init=function(s){if(e=$(s)){for(var n=e.children(".group"),i=0;i<n.length;i++)o.push(n[i]);t()}},s},dt=function(){function t(t){t!==o&&($(a.children()[o]).removeClass("active"),$(a.children()[t]).addClass("active"),$(i[o]).removeClass("active"),$(i[t]).addClass("active"),o=t)}var e={},s=!1,o=!1,n=$("#quotes"),i=n.children(),a=$('<ul class="bullets"></ul>');if(i.length>1){for(var r=0;r<i.length;r++){var l=$('<li class="bullet" value="'+r+'"></li>');a.append(l)}a.children().on("click",function(e){t(e.target.value)}),n.after(a),t(0)}var u=$("#jumplink");return u&&($("#jumplink a").on("click",function(){s=!0,u.removeClass("show"),$("html, body").animate({scrollTop:$("#apply").position().top},500)}),$(window).scroll(function(){var t=$(window).scrollTop();s||u.hasClass("show")||t>=2300&&u.addClass("show");var e=$("#perks").position().top+$("#perks").innerHeight();console.log("Perk bottom",e),t+$(window).innerHeight()>=e?$("#perks").addClass("snap"):$("#perks").removeClass("snap")})),e.marquee=new Marquee,e.instagram=new InstagramPhotos(12),e.quiz=new DesignerQuiz,e}();$(document).foundation(),$(document).ready(function(){dt.marquee.init("#marquee"),dt.instagram.getPhotos(),dt.quiz.create("#test")});